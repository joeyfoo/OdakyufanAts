<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><title> The OpenBveAts Train Plugin</title><link rel="stylesheet" href="blue.css" /><meta name="keywords" content="Chashinai Railway, OdakyufanAts, odakyufan, openBVE" /><meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /></head><body><table class="table-menu"><colgroup><col class="first" /></colgroup><thead><tr class="even"><th class="coleven"> OpenBveAts</th></tr></thead><tfoot><tr class="even"><td class="coleven"><a href="../index.html">&lt; Back to Index Page</a></td></tr></tfoot><tbody><tr class="odd"><td class="coleven"><img src="banner.jpg" alt="Banner" /></td></tr></tbody></table><div> OpenBveAts is the default train plugin used by OpenBVE when trains lack their own plugin. It simulates a basic version of ATS-SN, ATS-P and ATC. If you want to use this plugin in your train, then simply don't include the ats.cfg file. This plugin will then be used automatically.</div><div> If you are interested in a more comprehensive plugin for simulating Japanese safety equipment, then please use <a href="../odakyufanats/index.html">OdakyufanAts</a> instead. OdakyufanAts is fully compatible with the default safety systems but offers a lot more functionality, including ATS-Ps, more detailed ATS-P, more detailed ATC, and TASC. In fact, OpenBveAts is just a stripped-down version of OdakyufanAts to meet backward compatibility requirements.</div><div> If you are still interested in OpenBveAts, then please find all information relevant for users and developers in the <a href="../openbve/index.html#documentation">OpenBVE documentation</a>. This page summarizes the technical details of the plugin only.</div><ol class="contents"><li><a href="#panel">Panel</a></li><li><a href="#sounds">Sounds</a></li><li><a href="#beacons">Beacons</a></li><li><a href="#specialbeacons">Special Beacons</a></li><li><a href="#keyboardassignment">Keyboard Assignment</a></li></ol><h2><a id="panel">Panel</a></h2><div> The following panel indices are exposed.</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><thead><tr class="even"><th class="coleven"> Index</th><th class="colodd"> Description</th><th class="coleven"> Range</th></tr></thead><tbody><tr class="odd"><td class="coleven" colspan="3"> ATS-SN</td></tr><tr class="even"><td class="coleven"> 256</td><td class="colodd"> ATS power (ATS電源)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 257</td><td class="colodd"> ATS actuation (ATS動作)</td><td class="coleven"> 0 - 2</td></tr><tr class="even"><td class="coleven"> 258</td><td class="colodd"> ATS actuation (ATS動作)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven" colspan="3"> ATS-P</td></tr><tr class="even"><td class="coleven"> 259</td><td class="colodd"> P power (P電源)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 260</td><td class="colodd"> pattern approach (パターン接近)</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven"> 261</td><td class="colodd"> brake release (ブレーキ開放)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 262</td><td class="colodd"> brake application (ブレーキ動作)</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven"> 263</td><td class="colodd"> ATS-P</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 264</td><td class="colodd"> failure (故障)</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven" colspan="3"> ATC</td></tr><tr class="odd"><td class="coleven"> 265</td><td class="colodd"> ATC</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven"> 266</td><td class="colodd"> ATC power (ATC電源)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 267</td><td class="colodd"> ATC service (ATC常用)</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven"> 268</td><td class="colodd"> ATC emergency (ATC非常)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven" colspan="3"> miscellaneous</td></tr><tr class="even"><td class="coleven"> 269</td><td class="colodd"> const speed (定速)</td><td class="coleven"> 0 - 1</td></tr><tr class="odd"><td class="coleven"> 270</td><td class="colodd"> EB</td><td class="coleven"> 0 - 1</td></tr><tr class="even"><td class="coleven" colspan="3"> ATC</td></tr><tr class="odd"><td class="coleven"> 271</td><td class="colodd"> ATC speed indicator</td><td class="coleven"> 0 - 12</td></tr></tbody></table><table class="table-one-column"><colgroup><col class="first" /></colgroup><thead><tr class="even"><th class="coleven" colspan="2"> ATC speed indicator (panel index 271)</th></tr><tr class="odd"><th class="coleven"> Value</th><th class="colodd"> Description</th></tr></thead><tbody><tr class="even"><td class="coleven"> 0</td><td class="colodd"> ATC not available</td></tr><tr class="odd"><td class="coleven"> 1</td><td class="colodd"> 0 km/h</td></tr><tr class="even"><td class="coleven"> 2</td><td class="colodd"> 15 km/h</td></tr><tr class="odd"><td class="coleven"> 3</td><td class="colodd"> 25 km/h</td></tr><tr class="even"><td class="coleven"> 4</td><td class="colodd"> 45 km/h</td></tr><tr class="odd"><td class="coleven"> 5</td><td class="colodd"> 55 km/h</td></tr><tr class="even"><td class="coleven"> 6</td><td class="colodd"> 65 km/h</td></tr><tr class="odd"><td class="coleven"> 7</td><td class="colodd"> 75 km/h</td></tr><tr class="even"><td class="coleven"> 8</td><td class="colodd"> 90 km/h</td></tr><tr class="odd"><td class="coleven"> 9</td><td class="colodd"> 100 km/h</td></tr><tr class="even"><td class="coleven"> 10</td><td class="colodd"> 110 km/h</td></tr><tr class="odd"><td class="coleven"> 11</td><td class="colodd"> 120 km/h</td></tr><tr class="even"><td class="coleven"> 12</td><td class="colodd"> ATS is active</td></tr></tbody></table><h2><a id="sounds">Sounds</a></h2><div> The following sound indices are exposed.</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><thead><tr class="even"><th class="coleven"> Index</th><th class="colodd"> File</th><th class="coleven"> Description</th><th class="colodd"> Type</th></tr></thead><tbody><tr class="odd"><td class="coleven"> 0</td><td class="colodd"> ats.wav</td><td class="coleven"> ATS bell</td><td class="colodd"> looping</td></tr><tr class="even"><td class="coleven"> 1</td><td class="colodd"> atscnt.wav</td><td class="coleven"> ATS chime</td><td class="colodd"> looping</td></tr><tr class="odd"><td class="coleven"> 2</td><td class="colodd"> ding.wav</td><td class="coleven"> ATS-P/ATC bell</td><td class="colodd"> once</td></tr><tr class="even"><td class="coleven"> 3</td><td class="colodd"> toats.wav</td><td class="coleven"> ATC to ATS</td><td class="colodd"> once</td></tr><tr class="odd"><td class="coleven"> 4</td><td class="colodd"> toatc.wav</td><td class="coleven"> ATS to ATC</td><td class="colodd"> once</td></tr><tr class="even"><td class="coleven"> 5</td><td class="colodd"> eb.wav</td><td class="coleven"> EB bell</td><td class="colodd"> looping</td></tr></tbody></table><h2><a id="beacons">Beacons</a></h2><div> The following beacon types are supported.</div><h3> Beacon type 0 (S long)</h3><div><table class="table-grid"><tr><td><tt> Track.Beacon 0; object; signal; <span style="color: fuchsia;">0</span></tt></td></tr></table> Sets up the S long beacon. If the signal is red, the alarm starts to sound. If the optional data is <span style="color: fuchsia;">0</span>, the train switches from ATS-P to ATS-SN. If the optional data is <span style="color: fuchsia;">-1</span>, the train stays in its current mode.</div><h3> Beacon type 1 (SN immediate stop)</h3><div><table class="table-grid"><tr><td><tt> Track.Beacon 1; object; signal; <span style="color: fuchsia;">0</span></tt></td></tr></table> Sets up the SN immediate stop beacon. If the signal is red, the emergency brakes are applied immediately. If the optional data is <span style="color: fuchsia;">0</span>, the train switches from ATS-P to ATS-SN. If the optional data is <span style="color: fuchsia;">-1</span>, the train stays in its current mode.</div><h3> Beacon type 2 (accidental departure)</h3><div><table class="table-grid"><tr><td><tt> Track.Beacon 2; object; signal; <span style="color: rgb(46,153,64);">0</span></tt></td></tr></table> Sets up the accidental depature beacon. If the signal is red, the emergency brakes are applied immediately. If the optional data is <span style="color: rgb(46,153,64);">0</span>, the train switches from ATS-P to ATS-SN. If the optional data is <span style="color: rgb(46,153,64);">-1</span>, the train stays in its current mode. If the optional data is <span style="color: rgb(46,153,64);">greater than zero</span>, the beacon only triggers for trains with at most the specified number of cars, and the train switches from ATS-P to ATS-SN.</div><h3> Beacon type 3 (ATS-P pattern renewal)</h3><div><table class="table-grid"><tr><td><tt> Track.Beacon 3; object; signal; <span style="color: fuchsia;">0</span></tt></td></tr></table> Place this beacon to refresh the ATS-P signal pattern. If the optional data is <span style="color: fuchsia;">0</span>, the train switches from ATS-SN to ATS-P. If the optional data is <span style="color: fuchsia;">-1</span>, the train stays in its current mode.</div><h3> Beacon type 4 (ATS-P immediate stop)</h3><div><table class="table-grid"><tr><td><tt> Track.Beacon 4; object; signal; <span style="color: fuchsia;">0</span></tt></td></tr></table> Place this beacon to refresh the ATS-P pattern. If the signal is red and less than 50 meters away, the brakes are applied immediately and the brake application needs to be canceled manually. If the optional data is <span style="color: fuchsia;">0</span>, the train switches from ATS-SN to ATS-P. If the optional data is <span style="color: fuchsia;">-1</span>, the train stays in its current mode.</div><h2><a id="specialbeacons">Special Beacons</a></h2><div> The following beacon types cannot be used directly in routes - they are automatically created by the CSV/RW parser to provide backward compatibility with ATS-P and ATC.</div><h3> Beacon type 0xFF000001 (ATC track status)</h3><div> Marks the status of ATC. The optional data has the following meaning:</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><tbody><tr class="even"><td class="coleven"> 0</td><td class="colodd"> ATC not available</td></tr><tr class="odd"><td class="coleven"> 1</td><td class="colodd"> ATC available, switch from ATS to ATC</td></tr><tr class="even"><td class="coleven"> 2</td><td class="colodd"> ATC available</td></tr><tr class="odd"><td class="coleven"> 3</td><td class="colodd"> ATC available, switch from ATC to ATS</td></tr></tbody></table><h3> Beacon type 0xFF000002 (ATC speed limit)</h3><div> Sets up an ATC speed limit. The optional data has the following meaning:</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><tbody><tr class="even"><td class="coleven"> bits 0-11</td><td class="colodd"> Speed in km/h</td></tr><tr class="odd"><td class="coleven"> bits 12-31</td><td class="colodd"> Distance in m</td></tr></tbody></table><div> All speed limits in the entire route are communicated to the plugin at the beginning of the route, so the plugin keeps a database of known speed limits and then applies them as necessary.</div><h3> Beacon type 0xFF000003 (ATS-P temporary speed limit)</h3><div> Sets up an ATS-P temporary speed limit. The optional data has the following meaning:</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><tbody><tr class="even"><td class="coleven"> bits 0-11</td><td class="colodd"> Speed in km/h</td></tr><tr class="odd"><td class="coleven"> bits 12-31</td><td class="colodd"> Distance in m</td></tr></tbody></table><div> All speed limits in the entire route are communicated to the plugin at the beginning of the route, so the plugin keeps a database of known speed limits and then applies them as necessary.</div><h3> Beacon type 0xFF000004 (ATS-P permanent speed limit)</h3><div> Sets up an ATS-P permanent speed limit. The optional data is the speed limit in km/h.</div><h2><a id="keyboardassignment">Keyboard Assignment</a></h2><div> The following keys are recognized.</div><table class="table-one-column"><colgroup><col class="first" /></colgroup><thead><tr class="even"><th class="coleven"> Name</th><th class="colodd"> Default assignment</th><th class="coleven"> Description</th></tr></thead><tbody><tr class="odd"><td class="coleven"> S</td><td class="colodd"> space</td><td class="coleven"> Cancels the ATS-SN bell.</td></tr><tr class="even"><td class="coleven"> A1</td><td class="colodd"> insert</td><td class="coleven"> Cancels the ATS-SN chime.</td></tr><tr class="odd"><td class="coleven"> A2</td><td class="colodd"> delete</td><td class="coleven"> Cancels the EB.</td></tr><tr class="even"><td class="coleven"> B1</td><td class="colodd"> home</td><td class="coleven"> Cancels the ATS-SN or ATS-P brake application.</td></tr><tr class="odd"><td class="coleven"> B2</td><td class="colodd"> delete</td><td class="coleven"> Activates the temporary ATS-P brake release.</td></tr><tr class="even"><td class="coleven"> C1</td><td class="colodd"> page up</td><td class="coleven"> Switches from ATC to ATS.</td></tr><tr class="odd"><td class="coleven"> C2</td><td class="colodd"> page down</td><td class="coleven"> Switches from ATS to ATC.</td></tr><tr class="even"><td class="coleven"> D</td><td class="colodd"> 2</td><td class="coleven"> Enables the safety systems.</td></tr><tr class="odd"><td class="coleven"> E</td><td class="colodd"> 3</td><td class="coleven"> Disables the safety systems.</td></tr></tbody></table></body></html>